# Настройка интеграции Spotify для портфолио

В этом руководстве описаны шаги по настройке интеграции со Spotify для отображения текущей прослушиваемой музыки на вашем портфолио.

## Шаг 1: Создание приложения Spotify

1. Перейдите на [Spotify Developer Dashboard](https://developer.spotify.com/dashboard/) и войдите в свой аккаунт Spotify.
2. Нажмите кнопку "Create an App".
3. Заполните информацию о приложении:
   - **App name**: Укажите имя для вашего приложения (например, "Мое портфолио")
   - **App description**: Добавьте краткое описание
   - **Redirect URI**: Добавьте `http://localhost:3000/api/auth/callback/spotify`
4. Примите условия использования и нажмите "Create".
5. После создания приложения вы увидите **Client ID** и **Client Secret**. Сохраните эти значения, они понадобятся позже.

## Шаг 2: Получение Refresh Token

Для получения Refresh Token можно использовать следующий метод:

1. Откройте [Spotify Token Generator](https://spotify-refresh-token-generator.netlify.app/) или создайте собственный скрипт.
2. Введите свои Client ID и Client Secret.
3. Выберите следующие scopes:
   - `user-read-currently-playing`
   - `user-read-playback-state`
4. Следуйте инструкциям на экране для авторизации и получения Refresh Token.
5. Скопируйте полученный Refresh Token.

## Шаг 3: Настройка переменных окружения

1. Создайте файл `.env.local` в корне проекта, если он еще не существует.
2. Добавьте следующие строки, заменив значения на ваши:

```
SPOTIFY_CLIENT_ID=ВАШ_CLIENT_ID
SPOTIFY_CLIENT_SECRET=ВАШ_CLIENT_SECRET
SPOTIFY_REFRESH_TOKEN=ВАШ_REFRESH_TOKEN
```

## Шаг 4: Перезапуск сервера

1. Сохраните все изменения в файлах.
2. Перезапустите сервер разработки:
   ```bash
   npm run dev
   ```

## Готово!

Теперь компонент Music должен отображать информацию о текущей воспроизводимой музыке из вашего аккаунта Spotify. 

Если у вас возникают проблемы:
- Убедитесь, что Spotify активен и музыка воспроизводится
- Проверьте консоль на наличие ошибок
- Проверьте файлы журналов сервера
- Убедитесь, что ваши токены и ключи верны и актуальны

## Дополнительные настройки

Если вы хотите настроить внешний вид компонента или изменить частоту обновления данных, отредактируйте файл `src/components/features/Music.tsx`.

Для изменения функциональности API-маршрута, отредактируйте файл `src/app/api/spotify/route.ts`. 